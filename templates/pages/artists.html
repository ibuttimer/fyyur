{% extends 'layouts/main.html' %}
{% block title %}{{title}}{% endblock %}
{% block content %}
{% if (request.endpoint == 'search_artists_advanced') %}
	<div class="form-wrapper col-sm-12">
		<form method="post" class="form" action="/artists/advanced_search">
			{{ form.hidden_tag() }}
			<div class="form-group col-sm-12">
				<div class="form-group col-sm-3">
					<label>Name</label>
					{{ form.name(class_ = 'form-control', placeholder='Name', autofocus = true) }}
				</div>
				<div class="form-group col-sm-3">
					<label>City</label>
					{{ form.city(class_ = 'form-control', placeholder='City', autofocus = true) }}
				</div>
				<div class="form-group col-sm-3">
					<label>State</label>
					{{ form.state(class_ = 'form-control', placeholder='State', autofocus = true) }}
				</div>
				<div class="form-group col-sm-2">
					<input type="submit" value="Search" class="btn btn-primary btn-sm" title="Search">
				</div>
			</div>
		</form>
	</div>
{% else %}
	<div class="col-sm-12">
		<a href="/artists/advanced_search"><button class="btn btn-primary btn-sm col-sm-offset-10">Advanced Search</button></a>
	</div>
{% endif %}
{% if (results.mode == 'basic') or (results.mode == 'advanced') %}
	<div class="col-sm-12">
		<h3>Number of search results for "{{results.search_term}}": {{results.count}}</h3>
	</div>
{% endif %}
<div class="col-sm-12">
	<ul class="items">
		{% for artist in results.data %}
		<li>
			<a href="/artists/{{artist.id}}" 
				{% if artist.num_upcoming_shows > 0 %}
					title="{{artist.name}}, {{artist.num_upcoming_shows}} upcoming shows"
				{% else %}
					title="{{artist.name}}, no upcoming shows"
				{% endif %}
				>
				<i class="fas fa-users" aria-hidden="true"></i>
				<div class="item">
					<h5>{{artist.name}}</h5>
				</div>
				&nbsp;
				<i class="fa fa-music" aria-hidden="true"></i>
				<div class="item">
					<h5>{{artist.num_upcoming_shows}}</h5>
				</div>
			</a>
		</li>
		{% endfor %}
	</ul>
</div>
{% endblock %}